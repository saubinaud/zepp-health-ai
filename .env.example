# ============================================
# ZEPP HEALTH AI - CONFIGURACI칍N
# ============================================
# Copia este archivo a .env y configura tus valores
# IMPORTANTE: Nunca compartas este archivo .env con nadie

# ============================================
# BASE DE DATOS POSTGRESQL
# ============================================
# Usuario de PostgreSQL (puedes dejarlo as칤)
POSTGRES_USER=zepp_user

# 丘멆잺 CAMBIA ESTO: Contrase침a segura para PostgreSQL
POSTGRES_PASSWORD=CAMBIA_ESTA_PASSWORD_POR_UNA_SEGURA

# Nombre de la base de datos (puedes dejarlo as칤)
POSTGRES_DB=zepp_health

# Puerto de PostgreSQL (solo si necesitas cambiarlo)
POSTGRES_PORT=5432

# URL completa de conexi칩n (actualiza con tu password)
DATABASE_URL=postgresql://zepp_user:CAMBIA_ESTA_PASSWORD_POR_UNA_SEGURA@postgres:5432/zepp_health

# ============================================
# BACKEND - CONFIGURACI칍N GENERAL
# ============================================
# Entorno (production o development)
NODE_ENV=production

# Puerto del backend (8080 es compatible con Cloudflare proxy)
PORT=8080
BACKEND_PORT=8080

# 丘멆잺 CAMBIA ESTO: Secret para JWT (usa una cadena aleatoria larga)
# Genera uno seguro en: https://www.uuidgenerator.net/
JWT_SECRET=CAMBIA_ESTE_SECRET_POR_UNO_ALEATORIO_Y_LARGO

# ============================================
# ZEPP API - SINCRONIZACI칍N
# ============================================
# Intervalo de sincronizaci칩n autom치tica en minutos (60 = cada hora)
SYNC_INTERVAL_MINUTES=60

# Rate limit para la API de Zepp (1 request por segundo es seguro)
RATE_LIMIT_REQUESTS_PER_SECOND=1

# ============================================
# OPENAI - AN츼LISIS CON IA
# ============================================
# 丘멆잺 MUY IMPORTANTE: Tu API Key de OpenAI
# Cons칤guela en: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-AQUI_VA_TU_API_KEY_DE_OPENAI

# Modelo a usar (gpt-4-turbo-preview es m치s preciso, gpt-3.5-turbo es m치s barato)
OPENAI_MODEL=gpt-4-turbo-preview

# Tokens m치ximos por respuesta (2000 es un buen balance)
OPENAI_MAX_TOKENS=2000

# ============================================
# NOTIFICACIONES - UMBRALES DE ALERTA
# ============================================
# Habilitar sistema de notificaciones
ENABLE_NOTIFICATIONS=true

# Frecuencia card칤aca alta (bpm)
NOTIFICATION_HR_HIGH=120

# Frecuencia card칤aca baja (bpm)
NOTIFICATION_HR_LOW=45

# SpO2 bajo (%)
NOTIFICATION_SPO2_LOW=92

# Nivel de estr칠s alto (0-100)
NOTIFICATION_STRESS_HIGH=80

# ============================================
# FRONTEND - URLs
# ============================================
# Puerto del frontend (80 es compatible con Cloudflare proxy)
FRONTEND_PORT=80

# URL del frontend (para CORS en backend)
# Para producci칩n con dominio personalizado:
FRONTEND_URL=https://zepp.nodumstudio.com
# Para desarrollo local: http://localhost

# URL de la API del backend (desde el navegador del cliente)
# IMPORTANTE: Esta URL debe ser accesible desde el navegador
# IMPORTANTE: Usar HTTPS y WSS para Cloudflare
# Para producci칩n con dominio:
NEXT_PUBLIC_API_URL=https://api.zepp.nodumstudio.com
# Para desarrollo local: http://localhost:8080

# URL de WebSocket (desde el navegador del cliente)
# Para producci칩n con dominio:
NEXT_PUBLIC_WS_URL=wss://api.zepp.nodumstudio.com
# Para desarrollo local: ws://localhost:8080

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. OPENAI_API_KEY: Sin esto no funcionar치 el an치lisis con IA
# 2. POSTGRES_PASSWORD: Usa una contrase침a fuerte en producci칩n
# 3. JWT_SECRET: Debe ser 칰nico y aleatorio
# 4. Para PRODUCCI칍N con dominio personalizado + Cloudflare:
#    - FRONTEND_PORT=80 (puerto compatible con Cloudflare)
#    - BACKEND_PORT=8080 (puerto compatible con Cloudflare)
#    - FRONTEND_URL=https://zepp.nodumstudio.com
#    - NEXT_PUBLIC_API_URL=https://api.zepp.nodumstudio.com
#    - NEXT_PUBLIC_WS_URL=wss://api.zepp.nodumstudio.com
#    - En Cloudflare: SSL/TLS = Full o Full (strict)
#    - En Cloudflare: Proxy activado (nube naranja 游)
# 5. Para DESARROLLO local (localhost):
#    - FRONTEND_PORT=80
#    - BACKEND_PORT=8080
#    - FRONTEND_URL=http://localhost
#    - NEXT_PUBLIC_API_URL=http://localhost:8080
#    - NEXT_PUBLIC_WS_URL=ws://localhost:8080
# 6. PUERTOS CLOUDFLARE: Solo permite ciertos puertos cuando el proxy est치 activo
#    - HTTP: 80, 8080, 8880, 2052, 2082, 2086, 2095
#    - HTTPS: 443, 2053, 2083, 2087, 2096, 8443
